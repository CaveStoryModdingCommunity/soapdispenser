# Soaprun History

This game was being developed live, so there's a lot of messages and releases to document

## Forum Timeline

| Date (Y.M.D) | Event | Changelog | Download | Map |
| ------------ | ----- | --------- | -------- | --- |
| [2010.01.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89182) | Soaprun v0.010 releases | Has sound effects, no music, no scrolling, features a timer in the top left | [Fluff8836](https://www.mediafire.com/file_premium/p060e8l6wj1a96b/soaprun0010.zip/file) |
| [2010.01.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89183) | Soaprun v0.020 releases | Added music, scrolling, and removed the timer | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0020.zip) |
| [2010.01.16](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89197) | Soaprun v0.030 releases | Added control options on the main menu, the ability to change your soaprunner's color, and a name to each room in the top left | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0030.zip) |
| [2010.02.05](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89227) | Soaprun v0.090 releases | Expanded the tileset(?) and added server functionality. Unclear if anyone was able to play on it | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0090.zip) |
| [2010.02.06](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89230) | Soaprun v0.100 releases | Unclear what changed, but people definitely played on the server. Map date was 2.6 | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0100.zip) |
| [2010.02.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89240) | Soaprun v0.190 releases | Just performance improvements(?). Map date 2.12 | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0190.zip) |
| [2010.02.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89243) | Soaprun v0.191 releases | | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0191.zip) |
| [2010.02.20](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89244) | Soaprun v0.200(?) releases | A "secret room" was added to the map | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0200.zip) |
| [2010.02.27](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89247) | Soaprun v0.290(?) releases | The sword and corpses were definitely in by now, but enemies may not have been synced. Map date 2.27 | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0290.zip) |
| [2010.02.27](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89257) | Someone describes Pixel's todo list | See the post for more details/speculation on what Pixel's plans were |
| [2010.03.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89260) | Soaprun v0.390 releases | The Sword/ghosts has been implemented as seen in later releases. The invisible maze was ACTUALLY invisible and the Crawl blocking the swords was implemented. | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0390.zip) | [Fluff8836](https://www.mediafire.com/view/qcuwb4s3qwdoa1u/earlymap2.png/file) (Carrotlord's is lost)
| [2010.03.20](https://www.cavestory.org/downloads/soaprun-0392.zip) | Soaprun v0.392 releases | Added animated water | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0392.zip) |
| [2010.03.27](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89310) | Soaprun v0.393 releases | | Lost |
| [2010.04.10](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89315) | Soaprun v0.410 releases | Added drawing, including new rooms meant for drawing. Map date 4.10 | Lost | [Fluff8836](https://www.mediafire.com/view/rkxsrjooppv1p71/earlymap1.png/file)
| [2010.04.10](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89316) | Soaprun v0.411 releases | Fluff8836 posted a speedrun of this version, but the link is dead | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0411.zip) |
| [2010.04.17](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89330) | Fluff8836 posts a custom title screen image | | |
| [2010.04.24](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89333) | Server reopened | Monsters can now move on un-shaded drawing tiles | |
| [2010.04.28](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89344) | Soaprun v0.420 releases | Added red/blue flames on the way to the sword and blocking an alternate way to reach the invisible maze. First mention of crowned soaprunners. | Lost | [Fluff8836](https://www.mediafire.com/view/cy4n9or7vxinzui/earlymap3.png/file)
| [2010.05.09](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89363) | Soaprun v0.425 releases | Implemented Wusses, added Chases (though none appear on the map), added weather (presumably for shield). Map has changed to make getting the sword easier | [cavestory.org](https://www.cavestory.org/downloads/soaprun-0425.zip) | [Fluff8836](https://www.mediafire.com/view/ioudbh8wy3th7mc/earlymap4.png/file)
| [2010.05.15](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89376) | Soaprun v0.430 releases | Added Cross. Map changed to show off new enemies | Lost | [Fluff8836](https://www.mediafire.com/view/y40zmagomkm#)
| [2010.05.22](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89391) | Soaprun v0.431 releases | Adds the grate tile. Apparently adds an inaccessible Snail at (5,8). | Lost |
| [2010.05.29](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89401) | First mention of Soaprun v0.432 | The Snail is in an accessible place now | [studiopixel.jp](https://studiopixel.jp/binaries/soaprun-0432.zip) | TBA
| [2010.06.19](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89431) | Map updated | Added four Chases to room (0,4), added two drawing tiles in room (4,3), "messed up" the date room (2,0) | | TBA
| [2010.11.04](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/page-20#post-89501) | Noxid posts Soaprun v0.432... again | why tho | |
| 2010.11.12 | Map updated | First version of the november map | | [Fluff8836](https://www.mediafire.com/view/tg1ffdm4kfztheh/earlymap6.png/file)
| [2010.11.13](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89512) | Map updated | Swords and Goals no longer have safe zones, Snail (probably) lives at (0,6) | | [Fluff8836](https://www.mediafire.com/view/33klsi6j0izxfxy/map.png/file)
| [2010.11.19](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89515) | Fluff8836 documents breaking soaprun | Switching colors caused lag and let monsters go on the safe zone so corpses could be spawned there. Since the snail can't go on the safe zone, any corpses spawned there were permanent. Someone else managed to die on a solid block, causing it to change into one with a white border(!) |
| [2010.12.11](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/page-22#post-89535) | ~~God~~ Fluff8836 Floods the Earth | Pixel would need to restart the server to clean this up | |
| [2011.01.09](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89553) | hammil posts an improved version of v0.432 | Includes English translation and basic window scaling options | TBA |
| [2011.01.14](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89558) | hammil posts an example of the dispatch server's contents |
| [2011.02.05](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89591) | Map reverted to the 2010.05.29 version, plus some revisions(?) | |
| [2011.02.06](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89592) | hammil documents some of Soaprun's network protocol, plus some interesting functions | |
| [2011.03.18](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89598) | Server opened | First mention of the 30 player limit |
| [2011.04.10](https://forum.cavestory.org/threads/i-really-really-think-pixel-is-making-a-new-game.2056/post-89608) | Download for Soaprun taken off of Pixel's website |

## Pixel's Server Changelog

Compiled from [SoaprunServer/history.txt](https://github.com/CaveStoryModdingCommunity/soaprun/blob/master/SoaprunServer/history.txt), translated with DeepL.

| Date (Y.M.D) | Original | Translated | Notes |
| ------------ | -------- | ---------- | ----- |
| 2010.01.09 | 追加 main.cpp DebugLog.cpp/h Daemon.cpp/h Signal.cpp/h Directory.cpp/h | Added... |
| | スレッドを実装してみる。| Tried to implement threads
| 2010.01.10 | test_Thread.cpp / test_Server.cpp を作成。| ...Created
| | wsClientプログラムからサーバへの接続成功！ | Successful connection from wsClient program to the server!
| 2010.01.26 | send/recv してみる。| Tried to implement send/recv
| | lnxServerクラスと、lnxSock_Send/Recv( b_sizehead ) を作る。| Created lnxServer class and lnxSock_Send/Recv(b_sizehead)
| | send/recv に対する select() はまだ実装していない。| select() for send/recv has not been implemented yet
| 2010.01.27 | Loop_Main.cpp を作る。 | ...Made
| | svAttenderクラスを作る。| ...Created
| | svListenerクラスを作る。| ...Created
| | lnxSock_Send/Recv を lnxSock.cpp/h へ移す。| Moved lnxSock_Send/Recv to lnxSock.cpp/h
| | これでもう test_Thread.cpp / test_Server.cpp は要らなくなったかな… | I guess I don't need test_Thread.cpp / test_Server.cpp anymore...
| 2010.01.28 | SoaprunServerとしてプロジェクトを作り直す。| Rebuilt the project as SoaprunServer
| | Signal.cpp/h を作り直す。signal_handler方式からsigwaitスレッド方式へ変更。| Rebuild Signal.cpp/h, changing from the signal_handler method to the sigwait thread method.
| | Ctrl+Cで正常に終了できるようになった。| Ctrl+C now exits normally
| | acceptしたソケットを格納するためのlstSocketクラスを作成。| Create an lstSocket class to store the accepted sockets
| | Main_Loop() を無くす。| ...Eliminated
| 2010.01.29 | クライアントとのプロトコルチェックができた。| Protocol checks are now done with the client
| | dt_MapData.cpp/h を移植して、不要な部分を削る。| Port dr_MapData.cpp/h and remove unnecessary parts
| | dataフォルダを作り、マップパーツアトリビュートをロード。| Create a data folder and load map part attributes
| 2010.01.31 | lnxScok_Send/Recv() を select対応。| lnxSock_Send/Recv() now supports select
| | mAttをクライアントに渡せるようになった。| mAtt can now be passed on to the client | First mention of the mAtt packet?
| 2010.02.01 | svAttender::SendRoom() を作成。| ...Created
| | 化けてるけど Roomデータを送信できるようになった。| I can send Room data now, though it's garbled | Wonder why...?
| 2010.02.02 | ソケットしか登録できない lstSocketクラス をやめて | Stop using the lstSocket class, which can only register sockets
| | IPアドレスなども入れられて、定員外も判定できる LinkUnitsクラス を作る。| Create a LinkUnits class that can include IP addresses, etc., and can also determine out-of-capcity
| | 正しい Roomデータを送信できるようになった。| Correct Room data can now be sent
| | クライアントが接続中だと終了できなかった問題を修正。| Fixed a problem that prevented termination when the client was still connected.
| 2010.02.06 | Makefile.PHONY: に、ポート1002 を使う run2 を追加。| Added run2 to Makefile.PHONY: it uses port 1002
| | clREQUEST_Test / clREQUEST_Dlog を追加。| ...Added
| | svAttender::SendQuota() を追加。定員以内かどうかを、"WLCM"か、"OVER"で送る。| Add svAttender::SendQuota(). Send "WLCM" or "OVER" to indicate if the quota is within the capacity or not. | The final client does not check for "OVER"
| | 24:00 に初公開！ | First published at 24:00! | Is this a time or some weird date...?
| | ---- v.0.1.0.0 Protocol v10 MaxSock=128 EnableSock=100
| 2010.02.12 | socket の close() 前に shutdown() を付ける。(attender / listener) | Put shutdown() before close() of sockets. (attender / listener)
| | →サーバーを先にリセットした場合に、再接続できなくなるのを解消。| Resolves not being able to reconnect when the server is first reset
| | クライアントプログラムと共通の prtc/test/mattr/room/dlog/room の req/res 構造体を追加。| Added request/response structure for prtc/test/mattr/room/dlog/room common to the clients | What was he doing before that...?!
| | リクエストレスポンスでそれらを使うようにする。| Make sure to use them in the request response
| | svFieldUnitsクラスを追加。| ...class added
| | ---- v.0.1.9.0 Protocol v20 MaxAttender= 96 MaxPlayer=64
| 2010.02.18 | RecvRequiest() -> RecvRequiestAndSendResponse() 関数名のみ変更。| ...renamed
| | 処理内容は前バージョンで変更済み。| This process has already been changed in the previous version
| | | | Strange gap in the original file... different time maybe?
| | svAttender と LinkUnit を改善。| Improved svAttender and LinkUnit
| | _no を _index に変更。| Change _no to _index
| | _index は LinukUnits や svFieldUnits に対応する。| _index corresponds to LinukUnits and svFieldUnits
| | 先頭の方ほど svAttender が稼動するようになるが、なにもデメリットは無いと思われる。| The first one is the one that runs svAttender, but there seems to be no disadvantage to this
| | ログも追跡しやすくなる。| Logs will also be easier to track
| | LINKUNIT構造体はコピーではなく、constポインタだけを扱う。| The LINKUNIT structure handles only const pointers, not copies.
| | b_over_quota は svAttender が所持。| b_over_quota is owned by svAttender.
| | LINKUNIT構造体の b_linked / b_over_quota は要らなくなる。| The b_linked / b_over_quota of the LINKUNIT structure is no longer needed.
| 2010.02.19 | FieldUnit変数の型を整理。主に short -> char。| Organized FieldUnit variable types. Mainly short -> char.
| | でもROOM外への移動でも使う map_x/y はやっぱりshort型… | But map_x/y, which is also used for movement outside ROOM, is still a short...
| | そしてfldUnit には lct_x/y が不要になる。| And fldUnit no longer needs lct_x/y.
| | svPosHistoryクラスを追加。| ...Added
| | svFieldUnit の FIELDUNIT構造体を svFldUnitクラスに変更。| Change svFieldUnit's FIELDUNIT structure to the svFldUnit class.
| 2010.02.20 | ---- v.0.2.0.0 Protocol v30 MaxAttender= 96 MaxPlayer=64
| 2010.02.24 | svFldUnitsクラスの _units を _players にして、_objects も追加。| Change _units in svFldUnits class to _players and also add _objects.
| | クライアントソースからdt_FldObjeをコピー。調整。| Copy dt_FldObje from client source. Adjustment.
| | サーバー世界にフィールドオブジェクトをロード。| Loaded field objects into the server world.
| 2010.02.25 | object -> npu (No Play Unit) . |
| | svFldUnitクラスを svFieldUnits.cpp/h から取り出す。| Extract the svFldUnit class from svFieldUnits.cpp/h.
| | svFldUnit::NPU_SetReference() を追加。| ...Added
| | 2010.02.26 | NPU_Closer がプレイヤーを追いかけるようになった！ | NPU_Closer now follows the player!
| | NPU_MapGridクラスを追加。NPUが壁をすり抜けたり、他のNPUと重なったりしなくなった！ | Added NPU_MapGrid class; NPU no longer slips through walls or overlaps with other NPUs!
| | dt_MapDataクラスにmutex処理(排他制御)を入れる。| Put mutex processing (exclusive control) in dt_MapData class.
| | nPrtsHistoryクラスを追加。svFldUnitに持たせて、自分のリクエストが来たときにPopする。| Add nPrtsHistory class, let svFldUnit have it and pop when my request comes in.
| | | | Another gap
| | recv に１分のタイムアウトを付けてみる。| Try adding a 1 minute timeout to recv
| | ---- v.0.2.9.0 socket 96 enable 64 v0040 
| | | | Another
| | 5人ぐらい入ると a[]get units: buffer full! を頻発。| When about 5 people join, a[]get units: buffer full!
| | BUFFERSIZE_ATTENDER を 1024 -> 10000 に変更してみる。| Try changing BUFFERSIZE_ATTENDER from 1024 -> 10000.
| | ---- v.0.2.9.1
| 2010.03.01 | Closerの追跡は、atnd_index の高いものを優先させる。| Closer tracking will give priority to those with higher atnd_index. | atnd_index | So if you join earlier you will get screwed over by enemies huh...
| | npuの情報送信は、隣９軒のロケーション内に絞る。| NPU's information transmission is narrowed down to within 9 neighboring locations. | So NPUs only check the 8 tiles around themselves
| | svFldUnit.pos_his は最低１つは送るようにする。| svFldUnit.pos_his should send at least one. | ...one movement node, that is
| | Goal/Dead後のtimeoutをカウントさせないために、リクエスト Bye を追加。| Add Bye request to disable timeout after Goal/Dead | First mention of the Bye packet
| | 最大ログイン数をログに書き込む。| Write the maximum number of logins to the log
| 2010.03.06 | リクエスト Inquiry を追加。| Add Inquiry request | The thing in the top left?
| | Sword は ユーザーが所持者がいなくなったら、| Sword is reset when the holder drops it |
| | Closer は 時間が経過したら それぞれ復活。| Each Closer will revive after a certain time
| 2010.03.07 | Closer/Sword 復活の部分を調整。| Adjusted the revival section of Closer/Sword | Section of code?
| 2010.03.08 | gene_count を実装中… | ...Implementing...
| 2010.03.10 | 剣装備中は Closer は逃げるようにする。| Closer should run away while the sword is equipped
| | NPUの配置時に _npu_gridをONにする。| Turn on _npu_grid at the time of NPU placement.
| 2010.03.11 | NPU Crawl を追加。| ...Added
| 2010.03.13 | ---- v.0.3.9.0 protocol=0050 64/96
| | | | Gap
| | Crawl が襲ってこないバグを修正。| Fixed a bug where Crawls didn't attack
| | ---- v.0.3.9.1 protocol=0050 64/96
| 2010.03.16 | 2本しかないはずの剣が3本取れてしまった原因を調べるために Sword 周りのログ出力を強化。| Enhanced log output around Sword to investigate why three swords were removed when there should have been only two.
| | ---- v.0.3.9.2 protocol=0052 64/96
| 2010.03.24 | gene_count の型 unsigned char を徹底。| Strongly typed "unsigned char" for gene_count
| 2010.03.27 | ---- v.0.3.9.3 protocol=0053 64/96
| 2010.04.09 | #ifdef NDEBUG を使って、コンパイルだけでも Windows上でできるようにした。| #ifdef NDEBUG so that it can be compiled on Windows alone.
| | もちろんエラーチェックとしてしか機能しない。| Of course, it only works as an error check.
| 2010.04.10 | 終了時にマップデータを"map(sub).bin"に保存。次回起動時にあれば読み込む。| Save the map data in “map(sub).bin” at the end of the program. If there is any map data, it is loaded at the next startup. |
| | DrawFloor を実装。| ...implemented
| | ---- v.0.4.1.0 protocol=0060 64/96
| 2010.04.23 | 前回のバージョンアップで Sword/Goal をログに出してなかったので追加。| Added Sword/Goal since it was not logged in the last version.
| | 要らないコメントアウトの削除。| Deleted old commented-out code
| 2010.04.24 | NPU_MapGridクラスに Update() を追加。| Added Update() to NPU_MapGrid class.
| | 地面の塗りを使って、敵を閉じ込めることが出来るようになった。| The ground can now be painted to confine the enemy.
| | ---- v.0.4.1.1 protocol=0060 64/96
| 2010.04.28 | ---- v.0.4.2.0 protocol=0061 64/96
| 2010.05.06 | NPU Closer 近くにいる方を追いかけるように変更。| NPU Closer changed to follow the nearest player.
| | ログイン毎に初期カラーを変える。| Randomized the starting color of joining players | I guess you just always started as green before this
| | svFldUnit::_Action_NNNN() に切り分ける。| Isolate svFldUnit::_Action_NNNN()
| | _DeadCount() / _ConsiderAndMove() を作成。| ...Created
| | svFldUnit::Disable()で、poshis.Reset()。前回の死亡座標にNPUが反応していた… | ...NPU reacted to their last death coordinates...
| 2010.05.08 | ---- v.0.4.2.4 protocol=0062 64/96
| 2010.05.13 | svFldUnit.cpp::_ConsiderAndMove() を強化、| ...Enhanced
| | svFldUnit.cpp::_ConsiderDirection() になって追跡能力アップ！ | ...Added to improve tracking ability!
| 2010.05.15 | ---- v.0.4.3.0 protocol=0063 64/96
| 2010.05.22 | Beat() でNPUがやられた時に npugrid をOFFにする。| Beat() turns off npugrid when the NPU is hit | So enemies can walk through dead bodies now
| | ゴールした時の装備をログに出力。| Log output of equipment at finish line
| | ---- v.0.4.3.1 protocol=0063 64/96
| 2010.05.29 | ---- v.0.4.3.2 protocol=0064 64/96
| | Crawl と Gate の反応を少し鈍くした。 | Crawl and Gate reaction time was slowed down a bit
| | ---- v.0.4.3.3 protocol=0064 64/96